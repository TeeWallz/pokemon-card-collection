{"version":3,"sources":["actions/types.js","services/auth.service.js","components/login.component.js","actions/auth.js","components/register.component.js","services/auth-header.js","services/user.service.js","components/home.component.js","components/profile.component.js","components/board-user.component.js","components/board-moderator.component.js","components/board-admin.component.js","services/collection.service.js","components/collections-list.component.js","components/collections-create.component.js","components/collections-view.component.js","helpers/history.js","common/auth-verify.js","components/NotFound.js","components/collection-view-epic-component.js","components/collections-view-epic.function.js","components/collection-view.function.js","App.js","actions/message.js","reportWebVitals.js","reducers/auth.js","reducers/message.js","reducers/index.js","store.js","index.js","config/api_config.js"],"names":["REGISTER_SUCCESS","REGISTER_FAIL","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT","SET_MESSAGE","CLEAR_MESSAGE","API_URL","require","API_BASE_URL","username","password","axios","post","then","response","data","accessToken","localStorage","setItem","JSON","stringify","removeItem","email","required","value","className","role","Login","props","handleLogin","bind","onChangeUsername","onChangePassword","state","loading","e","this","setState","target","preventDefault","form","validateAll","dispatch","history","checkBtn","context","_errors","length","AuthService","login","type","payload","user","Promise","resolve","error","message","toString","reject","window","location","reload","catch","isLoggedIn","to","Fragment","src","alt","onSubmit","ref","c","htmlFor","name","onChange","validations","disabled","style","display","Component","connect","auth","isEmail","vusername","vpassword","Register","handleRegister","onChangeEmail","successful","register","authHeader","parse","getItem","get","headers","Home","content","UserService","getPublicContent","Profile","currentUser","substring","substr","id","roles","map","index","BoardUser","getUserBoard","getModeratorBoard","getAdminBoard","config","API_COLLECTION_URL","API_COLLECTIONCARDS_URL","API_EPIC_URL","API_TCGAPI_URL","query","params","collection","yeet","put","alert","err","console","log","delete","cards","collectionCards","BoardCollections","collections","loadCollectionsIntoTable","optionFormatter","onDeleteClick","onRowClick","CollectionService","getAll","row","rowIndex","confirm","currentTarget","deleteCollection","link","open","result","cursor","onClick","onOpenClick","rowEvents","columns","dataField","text","sort","sortFunc","a","b","order","rowA","rowB","formatter","cell","formatExtraData","statusString","keyField","striped","hover","CollectionsCreate","searchTcgApiCard","changeSearchTerm","changeCollectionName","saveCollection","Speeeeeeen","saveAndRedirectClick","saveAndCreateAnotherClick","searchCards","searchTerm","collectionName","isLoading","alignContent","justifyContent","Spinner","animation","getTcgApiQuery","ex","currentSearchCards","collectionToSubmit","filter","obj","push","count","postCollection","Container","Row","Col","xs","lg","fontSize","textAlign","marginTop","Form","Label","Control","placeholder","Button","variant","isKey","dataAlign","dataSort","CollectionView","handleCardCollectedCheckboxClick","handleSaveCollectionButtonClick","cardCollectedToggle","collectionId","getOneDetail","enumObject","cardId","ToggleButton","checked","size","currentState","card","currentCollection","l","Set","Object","keys","prop","has","putCollection","collectedCount","reduce","previousValue","currentValue","Math","min","completion","round","createBrowserHistory","AuthVerify","listen","token","atob","split","parseJwt","exp","Date","now","logOut","NotFound","SearchBar","Search","CollectionViewEpic","handleCardPurchasedCheckboxClick","displaySingleCollection","setName","changedCards","checkChanged","propertyValues","setNames","collectionNames","filters","setNameFilter","epicFilter","undefined","getEpic","item","setNamesDict","forEach","collectionNamesDict","forceUpdate","stateRow","find","collection_card_key","add","purchased","cardsToSend","patchCollectionCards","filterVal","searchable","selectFilter","options","headerStyle","colum","colIndex","width","hidden","whiteSpace","textOverflow","overflow","label","changed","class","classNames","exportCSV","fileName","separator","ignoreHeader","noAutoBOM","condensed","search","searchProps","baseProps","srText","filterFactory","pagination","paginationFactory","sizePerPageList","CollectionViewWrapper","collectionid","useParams","App","showModeratorBoard","showAdminBoard","includes","logout","marginLeft","href","exact","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","combineReducers","action","middleware","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.3a2eccf7.chunk.js","sourcesContent":["export const REGISTER_SUCCESS = \"REGISTER_SUCCESS\";\nexport const REGISTER_FAIL = \"REGISTER_FAIL\";\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_FAIL = \"LOGIN_FAIL\";\nexport const LOGOUT = \"LOGOUT\";\n\nexport const SET_MESSAGE = \"SET_MESSAGE\";\nexport const CLEAR_MESSAGE = \"CLEAR_MESSAGE\";","import axios from \"axios\";\nconst config = require('../config/api_config');\n\nconst API_URL = config.API_BASE_URL + \"auth/\";\n\nclass AuthService {\n    login(username, password) {\n        return axios\n            .post(API_URL + \"signin\", { username, password })\n            .then((response) => {\n                if (response.data.accessToken) {\n                    localStorage.setItem(\"user\", JSON.stringify(response.data));\n                }\n\n                return response.data;\n            });\n    }\n\n    logout() {\n        localStorage.removeItem(\"user\");\n    }\n\n    register(username, email, password) {\n        return axios.post(API_URL + \"signup\", {\n            username,\n            email,\n            password,\n        });\n    }\n}\n\nexport default new AuthService();","import React, { Component } from \"react\";\nimport { Navigate } from 'react-router-dom';\n\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport CheckButton from \"react-validation/build/button\";\n\nimport { connect } from \"react-redux\";\nimport { login } from \"../actions/auth\";\n\nconst required = (value) => {\n    if (!value) {\n        return (\n            <div className=\"alert alert-danger\" role=\"alert\">\n                This field is required!\n            </div>\n        );\n    }\n};\n\nclass Login extends Component {\n    constructor(props) {\n        super(props);\n        this.handleLogin = this.handleLogin.bind(this);\n        this.onChangeUsername = this.onChangeUsername.bind(this);\n        this.onChangePassword = this.onChangePassword.bind(this);\n\n        this.state = {\n            username: \"\",\n            password: \"\",\n            loading: false,\n        };\n    }\n\n    onChangeUsername(e) {\n        this.setState({\n            username: e.target.value,\n        });\n    }\n\n    onChangePassword(e) {\n        this.setState({\n            password: e.target.value,\n        });\n    }\n\n    handleLogin(e) {\n        e.preventDefault();\n\n        this.setState({\n            loading: true,\n        });\n\n        this.form.validateAll();\n\n        const { dispatch, history } = this.props;\n\n        if (this.checkBtn.context._errors.length === 0) {\n            dispatch(login(this.state.username, this.state.password))\n                .then(() => {\n                    // history.push(\"/profile\");\n                    window.location.reload();\n                })\n                .catch(() => {\n                    this.setState({\n                        loading: false\n                    });\n                });\n        } else {\n            this.setState({\n                loading: false,\n            });\n        }\n    }\n\n    render() {\n        const { isLoggedIn, message } = this.props;\n\n        if (isLoggedIn) {\n            return <Navigate to=\"/profile\" />;\n        }\n\n        return (\n            <React.Fragment>\n                <div className=\"col-md-12\">\n                    <div className=\"card card-container\">\n                        <img\n                            src=\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\"\n                            alt=\"profile-img\"\n                            className=\"profile-img-card\"\n                        />\n\n                        <Form\n                            onSubmit={this.handleLogin}\n                            ref={(c) => {\n                                this.form = c;\n                            }}\n                        >\n                            <div className=\"form-group\">\n                                <label htmlFor=\"username\">Username</label>\n                                <Input\n                                    type=\"text\"\n                                    className=\"form-control\"\n                                    name=\"username\"\n                                    value={this.state.username}\n                                    onChange={this.onChangeUsername}\n                                    validations={[required]}\n                                />\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label htmlFor=\"password\">Password</label>\n                                <Input\n                                    type=\"password\"\n                                    className=\"form-control\"\n                                    name=\"password\"\n                                    value={this.state.password}\n                                    onChange={this.onChangePassword}\n                                    validations={[required]}\n                                />\n                            </div>\n\n                            <div className=\"form-group\">\n                                <button\n                                    className=\"btn btn-primary btn-block\"\n                                    disabled={this.state.loading}\n                                >\n                                    {this.state.loading && (\n                                        <span className=\"spinner-border spinner-border-sm\"></span>\n                                    )}\n                                    <span>Login</span>\n                                </button>\n                            </div>\n\n                            {message && (\n                                <div className=\"form-group\">\n                                    <div className=\"alert alert-danger\" role=\"alert\">\n                                        {message}\n                                    </div>\n                                </div>\n                            )}\n                            <CheckButton\n                                style={{ display: \"none\" }}\n                                ref={(c) => {\n                                    this.checkBtn = c;\n                                }}\n                            />\n                        </Form>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { isLoggedIn } = state.auth;\n    const { message } = state.message;\n    return {\n        isLoggedIn,\n        message\n    };\n}\n\nexport default connect(mapStateToProps)(Login);","import {\n    REGISTER_SUCCESS,\n    REGISTER_FAIL,\n    LOGIN_SUCCESS,\n    LOGIN_FAIL,\n    LOGOUT,\n    SET_MESSAGE,\n} from \"./types\";\n\nimport AuthService from \"../services/auth.service\";\n\nexport const register = (username, email, password) => (dispatch) => {\n    return AuthService.register(username, email, password).then(\n        (response) => {\n            dispatch({\n                type: REGISTER_SUCCESS,\n            });\n\n            dispatch({\n                type: SET_MESSAGE,\n                payload: response.data.message,\n            });\n\n            return Promise.resolve();\n        },\n        (error) => {\n            const message =\n                (error.response &&\n                    error.response.data &&\n                    error.response.data.message) ||\n                error.message ||\n                error.toString();\n\n            dispatch({\n                type: REGISTER_FAIL,\n            });\n\n            dispatch({\n                type: SET_MESSAGE,\n                payload: message,\n            });\n\n            return Promise.reject();\n        }\n    );\n};\n\nexport const login = (username, password) => (dispatch) => {\n    return AuthService.login(username, password).then(\n        (data) => {\n            dispatch({\n                type: LOGIN_SUCCESS,\n                payload: { user: data },\n            });\n\n            return Promise.resolve();\n        },\n        (error) => {\n            const message =\n                (error.response &&\n                    error.response.data &&\n                    error.response.data.message) ||\n                error.message ||\n                error.toString();\n\n            dispatch({\n                type: LOGIN_FAIL,\n            });\n\n            dispatch({\n                type: SET_MESSAGE,\n                payload: message,\n            });\n\n            return Promise.reject();\n        }\n    );\n};\n\nexport const logout = () => (dispatch) => {\n    AuthService.logout();\n\n    dispatch({\n        type: LOGOUT,\n    });\n};","import React, { Component } from \"react\";\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport CheckButton from \"react-validation/build/button\";\nimport { isEmail } from \"validator\";\n\nimport { connect } from \"react-redux\";\nimport { register } from \"../actions/auth\";\n\nconst required = (value) => {\n    if (!value) {\n        return (\n            <div className=\"alert alert-danger\" role=\"alert\">\n                This field is required!\n            </div>\n        );\n    }\n};\n\nconst email = (value) => {\n    if (!isEmail(value)) {\n        return (\n            <div className=\"alert alert-danger\" role=\"alert\">\n                This is not a valid email.\n            </div>\n        );\n    }\n};\n\nconst vusername = (value) => {\n    if (value.length < 3 || value.length > 20) {\n        return (\n            <div className=\"alert alert-danger\" role=\"alert\">\n                The username must be between 3 and 20 characters.\n            </div>\n        );\n    }\n};\n\nconst vpassword = (value) => {\n    if (value.length < 6 || value.length > 40) {\n        return (\n            <div className=\"alert alert-danger\" role=\"alert\">\n                The password must be between 6 and 40 characters.\n            </div>\n        );\n    }\n};\n\nclass Register extends Component {\n    constructor(props) {\n        super(props);\n        this.handleRegister = this.handleRegister.bind(this);\n        this.onChangeUsername = this.onChangeUsername.bind(this);\n        this.onChangeEmail = this.onChangeEmail.bind(this);\n        this.onChangePassword = this.onChangePassword.bind(this);\n\n        this.state = {\n            username: \"\",\n            email: \"\",\n            password: \"\",\n            successful: false,\n        };\n    }\n\n    onChangeUsername(e) {\n        this.setState({\n            username: e.target.value,\n        });\n    }\n\n    onChangeEmail(e) {\n        this.setState({\n            email: e.target.value,\n        });\n    }\n\n    onChangePassword(e) {\n        this.setState({\n            password: e.target.value,\n        });\n    }\n\n    handleRegister(e) {\n        e.preventDefault();\n\n        this.setState({\n            successful: false,\n        });\n\n        this.form.validateAll();\n\n        if (this.checkBtn.context._errors.length === 0) {\n            this.props\n                .dispatch(\n                    register(this.state.username, this.state.email, this.state.password)\n                )\n                .then(() => {\n                    this.setState({\n                        successful: true,\n                    });\n                })\n                .catch(() => {\n                    this.setState({\n                        successful: false,\n                    });\n                });\n        }\n    }\n\n    render() {\n        const { message } = this.props;\n\n        return (\n            <div className=\"col-md-12\">\n                <div className=\"card card-container\">\n                    <img\n                        src=\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\"\n                        alt=\"profile-img\"\n                        className=\"profile-img-card\"\n                    />\n\n                    <Form\n                        onSubmit={this.handleRegister}\n                        ref={(c) => {\n                            this.form = c;\n                        }}\n                    >\n                        {!this.state.successful && (\n                            <div>\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"username\">Username</label>\n                                    <Input\n                                        type=\"text\"\n                                        className=\"form-control\"\n                                        name=\"username\"\n                                        value={this.state.username}\n                                        onChange={this.onChangeUsername}\n                                        validations={[required, vusername]}\n                                    />\n                                </div>\n\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"email\">Email</label>\n                                    <Input\n                                        type=\"text\"\n                                        className=\"form-control\"\n                                        name=\"email\"\n                                        value={this.state.email}\n                                        onChange={this.onChangeEmail}\n                                        validations={[required, email]}\n                                    />\n                                </div>\n\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"password\">Password</label>\n                                    <Input\n                                        type=\"password\"\n                                        className=\"form-control\"\n                                        name=\"password\"\n                                        value={this.state.password}\n                                        onChange={this.onChangePassword}\n                                        validations={[required, vpassword]}\n                                    />\n                                </div>\n\n                                <div className=\"form-group\">\n                                    <button className=\"btn btn-primary btn-block\">Sign Up</button>\n                                </div>\n                            </div>\n                        )}\n\n                        {message && (\n                            <div className=\"form-group\">\n                                <div className={ this.state.successful ? \"alert alert-success\" : \"alert alert-danger\" } role=\"alert\">\n                                    {message}\n                                </div>\n                            </div>\n                        )}\n                        <CheckButton\n                            style={{ display: \"none\" }}\n                            ref={(c) => {\n                                this.checkBtn = c;\n                            }}\n                        />\n                    </Form>\n                </div>\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { message } = state.message;\n    return {\n        message,\n    };\n}\n\nexport default connect(mapStateToProps)(Register);","export default function authHeader() {\n    const user = JSON.parse(localStorage.getItem('user'));\n\n    if (user && user.accessToken) {\n        // for Node.js Express back-end\n        return { 'x-access-token': user.accessToken };\n    } else {\n        return {};\n    }\n}","import axios from 'axios';\nimport authHeader from './auth-header';\nconst config = require('../config/api_config');\n\nconst API_URL = config.API_BASE_URL + 'test/';\n\nclass UserService {\n    getPublicContent() {\n        return axios.get(API_URL + 'all');\n    }\n\n    getUserBoard() {\n        return axios.get(API_URL + 'user', { headers: authHeader() });\n    }\n\n    getModeratorBoard() {\n        return axios.get(API_URL + 'mod', { headers: authHeader() });\n    }\n\n    getAdminBoard() {\n        return axios.get(API_URL + 'admin', { headers: authHeader() });\n    }\n}\n\nexport default new UserService();","import React, { Component } from \"react\";\n\nimport UserService from \"../services/user.service\";\n\nexport default class Home extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            content: \"\"\n        };\n    }\n\n    componentDidMount() {\n        UserService.getPublicContent().then(\n            response => {\n                this.setState({\n                    content: response.data\n                });\n            },\n            error => {\n                this.setState({\n                    content:\n                        (error.response && error.response.data) ||\n                        error.message ||\n                        error.toString()\n                });\n            }\n        );\n    }\n\n    render() {\n        return (\n            <div className=\"container\">\n                <header className=\"jumbotron\">\n                    <h3>{this.state.content}</h3>\n                </header>\n            </div>\n        );\n    }\n}","import React, { Component } from \"react\";\nimport { Navigate } from 'react-router-dom';\nimport { connect } from \"react-redux\";\n\nclass Profile extends Component {\n\n    render() {\n        const { user: currentUser } = this.props;\n\n        if (!currentUser) {\n            return <Navigate to=\"/login\" />;\n        }\n\n        return (\n            <div className=\"container\">\n                <header className=\"jumbotron\">\n                    <h3>\n                        <strong>{currentUser.username}</strong> Profile\n                    </h3>\n                </header>\n                <p>\n                    <strong>Token:</strong> {currentUser.accessToken.substring(0, 20)} ...{\" \"}\n                    {currentUser.accessToken.substr(currentUser.accessToken.length - 20)}\n                </p>\n                <p>\n                    <strong>Id:</strong> {currentUser.id}\n                </p>\n                <p>\n                    <strong>Email:</strong> {currentUser.email}\n                </p>\n                <strong>Authorities:</strong>\n                <ul>\n                    {currentUser.roles &&\n                    currentUser.roles.map((role, index) => <li key={index}>{role}</li>)}\n                </ul>\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { user } = state.auth;\n    return {\n        user,\n    };\n}\n\nexport default connect(mapStateToProps)(Profile);","import React, { Component } from \"react\";\n\nimport UserService from \"../services/user.service\";\n\nexport default class BoardUser extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            content: \"\"\n        };\n    }\n\n    componentDidMount() {\n        UserService.getUserBoard().then(\n            response => {\n                this.setState({\n                    content: response.data\n                });\n            },\n            error => {\n                this.setState({\n                    content:\n                        (error.response &&\n                            error.response.data &&\n                            error.response.data.message) ||\n                        error.message ||\n                        error.toString()\n                });\n            }\n        );\n    }\n\n    render() {\n        return (\n            <div className=\"container\">\n                <header className=\"jumbotron\">\n                    <h3>{this.state.content}</h3>\n                </header>\n            </div>\n        );\n    }\n}","import React, { Component } from \"react\";\n\nimport UserService from \"../services/user.service\";\n\nexport default class BoardUser extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            content: \"\"\n        };\n    }\n\n    componentDidMount() {\n        UserService.getModeratorBoard().then(\n            response => {\n                this.setState({\n                    content: response.data\n                });\n            },\n            error => {\n                this.setState({\n                    content:\n                        (error.response &&\n                            error.response.data &&\n                            error.response.data.message) ||\n                        error.message ||\n                        error.toString()\n                });\n            }\n        );\n    }\n\n    render() {\n        return (\n            <div className=\"container\">\n                <header className=\"jumbotron\">\n                    <h3>{this.state.content}</h3>\n                </header>\n            </div>\n        );\n    }\n}","import React, { Component } from \"react\";\n\nimport UserService from \"../services/user.service\";\n\nexport default class BoardUser extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            content: \"\"\n        };\n    }\n\n    componentDidMount() {\n        UserService.getAdminBoard().then(\n            response => {\n                this.setState({\n                    content: response.data\n                });\n            },\n            error => {\n                this.setState({\n                    content:\n                        (error.response &&\n                            error.response.data &&\n                            error.response.data.message) ||\n                        error.message ||\n                        error.toString()\n                });\n            }\n        );\n    }\n\n    render() {\n        return (\n            <div className=\"container\">\n                <header className=\"jumbotron\">\n                    <h3>{this.state.content}</h3>\n                </header>\n            </div>\n        );\n    }\n}","import axios from 'axios';\nimport authHeader from './auth-header';\nconst config = require('../config/api_config');\n\nconst API_COLLECTION_URL = config.API_BASE_URL + 'collection';\nconst API_COLLECTIONCARDS_URL = config.API_BASE_URL + 'collectionCards';\nconst API_EPIC_URL = config.API_BASE_URL + 'epic';\nconst API_TCGAPI_URL = config.API_BASE_URL + 'tcgApiQuery';\n\nclass CollectionService {\n    getAll() {\n        return axios.get(API_COLLECTION_URL);\n    }\n\n    getEpic(query) {\n        // return axios.get(API_BASE_URL + \"epic\", { params: {collectionId: 'db8a0cd0-558d-11ec-8e83-fdb9d4163a20'}});\n        return axios.get(API_EPIC_URL, { params: query});\n    }\n\n    getOneDetail(id) {\n        return axios.get(API_COLLECTION_URL + \"/\" + id);\n\n\n        // return axios\n        //     .get(API_URL + \"signin\", { username, password })\n        //     .then((response) => {\n        //         if (response.data.accessToken) {\n        //             localStorage.setItem(\"user\", JSON.stringify(response.data));\n        //         }\n        //\n        //         return response.data;\n        //     });\n    }\n\n    postCollection(collection) {\n        let headers = authHeader();\n        headers.yeet = 'ass';\n\n        return axios\n            .post(API_COLLECTION_URL, collection, {headers: headers})\n            ;\n    }\n\n    putCollection(id, collection) {\n        return axios\n            .put(API_COLLECTION_URL + \"/\" + id,  collection)\n            .then((response) => {\n                alert(\"Done!\")\n            })\n            .catch((err) => {\n                console.log(err);\n            })\n            ;\n    }\n\n    getTcgApiQuery(query){\n        return axios.get(API_TCGAPI_URL,\n            { params: {query:query }}\n            );\n    }\n\n    deleteCollection(id){\n        let headers = authHeader();\n        headers.yeet = 'ass';\n\n        // axios.delete(API_BASE_URL + 'collection' + \"/\" + id)\n\n        return axios.delete(API_COLLECTION_URL + \"/\" + id, {headers: headers})\n\n    }\n\n    patchCollectionCards(cards){\n        let headers = authHeader();\n\n        // axios.delete(API_BASE_URL + 'collection' + \"/\" + id)\n\n        return axios.put(API_COLLECTIONCARDS_URL, {collectionCards: cards}, {headers: headers})\n    }\n\n\n}\n\nexport default new CollectionService();","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport {Link, useNavigate} from \"react-router-dom\";\n\nimport CollectionService from \"../services/collection.service\";\nimport Button from 'react-bootstrap/Button';\nimport Table from \"react-bootstrap/Table\";\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport filterFactory, { textFilter, selectFilter, multiSelectFilter, numberFilter } from \"react-bootstrap-table2-filter\";\nimport 'react-bootstrap-table2-toolkit/dist/react-bootstrap-table2-toolkit.min.css';\nimport ToolkitProvider, { Search } from 'react-bootstrap-table2-toolkit';\nimport Col from \"react-bootstrap/Col\";\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css';\nimport 'react-bootstrap-table2-paginator/dist/react-bootstrap-table2-paginator.min.css';\n\n\nclass BoardCollections extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            collections: []\n        };\n\n        // this.openFormatter = this.openFormatter.bind(this);\n        this.loadCollectionsIntoTable = this.loadCollectionsIntoTable.bind(this);\n        this.optionFormatter = this.optionFormatter.bind(this);\n        this.onDeleteClick = this.onDeleteClick.bind(this);\n        this.onRowClick = this.onRowClick.bind(this);\n    }\n\n    componentDidMount() {\n        this.loadCollectionsIntoTable();\n    }\n\n    loadCollectionsIntoTable(){\n        CollectionService.getAll().then(\n            response => {\n                this.setState({\n                    collections: response.data\n                });\n            },\n            error => {\n                this.setState({\n                    content:\n                        (error.response &&\n                            error.response.data &&\n                            error.response.data.message) ||\n                        error.message ||\n                        error.toString()\n                });\n            }\n        );\n    }\n\n    onRowClick(e, row, rowIndex){\n        console.log((e, row, rowIndex))\n    }\n\n    onDeleteClick(e){\n        if (window.confirm('Are you sure you want to delete? ' + e.currentTarget.id)) {\n            // Save it!\n            return CollectionService.deleteCollection(e.currentTarget.id)\n                .then(() => {\n                    this.loadCollectionsIntoTable();\n                })\n                .catch((e) => {\n                    alert(\"Error!\");\n                    console.log(e)\n                })\n\n\n\n\n        } else {\n            // Do nothing!\n            console.log('Thing was not saved to the database.');\n        }\n\n    }\n\n    onOpenClick(e){\n        const link = \"/collection/\" +  e.currentTarget.id;\n        window.open(link, \"_blank\")\n    }\n\n    optionFormatter(e){\n        const result = (\n            <span>\n                <span id={e} style={{cursor: 'pointer'}} onClick={(e) => {\n                    this.onOpenClick(e)\n                }}><i className=\"bi bi-box-arrow-up-right\"></i></span>\n\n                &nbsp;\n                &nbsp;\n                <span id={e} style={{cursor: 'pointer'}} onClick={(e) => {\n                    this.onDeleteClick(e)\n                }}><i className=\"bi bi-trash\"></i></span>\n            </span>\n\n        )\n        return result;\n    }\n\n    render() {\n        if(this.state.collections.length > 1){\n            console.log(this.state.collections[0]);\n        }\n\n        const rowEvents = {\n            onClick: (e, row, rowIndex) => {\n                const link = \"/collection/\" +  row.id;\n                window.open(link, \"_blank\")\n            }\n        };\n\n\n        const columns = [\n            {\n                dataField: 'name',\n                text: 'name',\n                sort: true,\n            },\n            {\n                dataField: 'collectedCardsUnique',\n                text: 'Collected',\n                sort: true,\n            },\n            {\n                dataField: 'totalCards',\n                text: 'totalCards',\n                sort: true,\n            },\n            {\n                dataField: 'status',\n                text: 'status',\n                sort: true,\n                sortFunc: (a, b, order, dataField, rowA, rowB) => {\n                    if (order === 'asc') {\n                        return b - a;\n                    }\n                    return a - b; // desc\n                },\n                formatter: (cell, row, rowIndex, formatExtraData ) => {\n                    return row.statusString;\n                }\n            }\n        ];\n\n\n\n\n\n\n\n        return (\n            <div className=\"container\">\n                <header className=\"jumbotron\">\n                    {/*<h3>{this.state.content}</h3>*/}\n                    <h1>All Collections</h1>\n                    <Link to=\"/collection/create\" className=\"btn btn-primary\">Create Collection</Link>\n                    <div>\n                        {/*{collectionList}*/}\n\n                        <BootstrapTable\n                            data={this.state.collections}\n                            columns={columns}\n                            keyField={\"id\"}\n                            striped={true}\n                            hover={true}\n                            rowEvents={ rowEvents }\n                        >\n                        </BootstrapTable>\n\n\n                        {/*<BootstrapTable data={this.state.collections}*/}\n                        {/*                striped={true}*/}\n                        {/*                hover={true}*/}\n                        {/*                // rowEvents={rowEvents}*/}\n                        {/*>*/}\n                        {/*    <TableHeaderColumn dataField=\"name\" isKey={true} dataAlign=\"center\" dataSort={true}>Name</TableHeaderColumn>*/}\n                        {/*    <TableHeaderColumn dataField=\"collectedCardsUnique\" dataSort={true}>collectedCardsUnique</TableHeaderColumn>*/}\n                        {/*    <TableHeaderColumn dataField=\"totalCards\" dataSort={true}>totalCards</TableHeaderColumn>*/}\n                        {/*    <TableHeaderColumn dataField=\"status\" dataSort={true}>status</TableHeaderColumn>*/}\n                        {/*    <TableHeaderColumn dataField=\"filter\" dataSort={true}>filter</TableHeaderColumn>*/}\n                        {/*    /!*<TableHeaderColumn width={\"3em\"} dataField=\"id\" dataSort={true} dataFormat={this.openFormatter}></TableHeaderColumn>*!/*/}\n                        {/*    <TableHeaderColumn width={\"4em\"} dataField=\"id\" dataSorter=\"numericOnly\" dataSort={true} dataFormat={this.optionFormatter}></TableHeaderColumn>*/}\n                        {/*    /!*<TableHeaderColumn dataField=\"price\" dataFormat={priceFormatter}>Product Price</TableHeaderColumn>*!/*/}\n                        {/*</BootstrapTable>*/}\n\n                    </div>\n                </header>\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    // const { message } = state.message;\n    return {\n        // message,\n    };\n}\n\n\nexport default connect(mapStateToProps)(BoardCollections);","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport CollectionService from \"../services/collection.service\";\nimport Button from 'react-bootstrap/Button';\nimport { Form } from 'react-bootstrap';\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Table from \"react-bootstrap/Table\";\nimport { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';\nimport { Spinner } from 'react-bootstrap';\n\nimport pokemon from 'pokemontcgsdk'\n\n\n\nfunction showDescription(cell, row) {\n    return cell.description;\n}\n\nfunction priceFormatter(cell, row){\n    return '<i class=\"glyphicon glyphicon-usd\"></i> ' + cell;\n}\n\n\nclass CollectionsCreate extends Component {\n    constructor(props) {\n        super(props);\n\n        this.searchTcgApiCard = this.searchTcgApiCard.bind(this);\n        this.changeSearchTerm = this.changeSearchTerm.bind(this);\n        this.changeCollectionName = this.changeCollectionName.bind(this);\n        this.saveCollection = this.saveCollection.bind(this);\n        this.Speeeeeeen = this.Speeeeeeen.bind(this);\n        this.saveAndRedirectClick = this.saveAndRedirectClick.bind(this);\n        this.saveAndCreateAnotherClick = this.saveAndCreateAnotherClick.bind(this);\n\n\n        this.state = {\n            searchCards: [],\n            searchTerm: 'name:blastoise',\n            collectionName: '',\n            isLoading: false,\n        };\n    }\n\n    componentDidMount() {\n\n    }\n\n    changeSearchTerm(e) {\n        this.setState({ searchTerm: e.target.value }, () =>  {\n            console.log(this.state)\n        })\n    }\n    changeCollectionName(e) {\n        this.setState({ collectionName: e.target.value }, () =>  {\n            console.log(this.state)\n        })\n    }\n\n    Speeeeeeen(){\n        if(this.state.isLoading){\n            return (\n                <div style={{display: 'flex', alignContent: 'center', justifyContent: 'center'}}>\n                    <div style={{display:\"inline-block\"}}>\n                        <Spinner animation=\"border\" role=\"status\" >\n                            {/*<span className=\"sr-only\">Loading.Weeeeeee</span>*/}\n                        </Spinner>\n                    </div>\n                </div >\n            );\n        }\n        else{\n            return \"\";\n        }\n    }\n\n\n    searchTcgApiCard(query){\n        this.setState({isLoading: true})\n        CollectionService.getTcgApiQuery(this.state.searchTerm)\n            .then((cards) => {\n                let cards_enriched = cards.data;\n\n\n\n                this.setState({searchCards: cards.data, isLoading: false}, () =>  {\n                    console.log(this.state)\n                })\n            })\n            .catch((ex) => {\n                alert(\"Error.\");\n                this.setState({ isLoading: false}, () =>  {\n                    console.log(this.state)\n                })\n            })\n    }\n\n    saveAndRedirectClick(){\n        this.saveCollection()\n            .then((response) => {\n                window.location = \"/collection/\" + response.data.id;\n            })\n            .catch((err) => {\n                alert(err);\n            })\n    }\n\n    saveAndCreateAnotherClick(){\n        this.saveCollection()\n            .then((response) => {\n                window.location = \"/collection/create\";\n            })\n            .catch((err) => {\n                alert(err);\n            })\n    }\n\n    saveCollection(){\n        if(this.state.collectionName === \"\"){\n            alert(\"CollectionName empty. Stopping save.\");\n            return;\n        }\n        if(this.state.searchCards.length === 0){\n            alert(\"No cards to save. Stopping save.\");\n            return;\n        }\n\n        const { searchCards } = { ...this.state };\n        const currentSearchCards = JSON.parse(JSON.stringify(searchCards));\n\n        let collectionToSubmit = {\n            name: this.state.collectionName,\n            filter: this.state.searchTerm,\n            cards: []\n        };\n\n        for (let obj of currentSearchCards) {\n            collectionToSubmit.cards.push({id: obj.id, count: 0 })\n        }\n\n\n\n        return CollectionService.postCollection(collectionToSubmit)\n\n\n    }\n\n\n\n    render() {\n        let collectionList = []\n\n        const isLoadingClass = this.state.isLoading ? 'none' : 'none';\n\n\n        return (\n            <div className=\"container\">\n\n                <header className=\"jumbotron\">\n                    <Container>\n\n                        <Row className=\"justify-content-md-center\">\n                            <Col xs lg=\"5\">\n                                <div style={{fontSize: '2.5em', textAlign: 'center'}}>Create Collection</div>\n                            </Col>\n                        </Row>\n                    </Container>\n                </header>\n                <section style={{marginTop: '20px'}}>\n\n                    <Container>\n                        <Row className=\"justify-content-md-center\">\n                            <Col xs lg=\"5\">\n                                <Form.Label>Name</Form.Label>\n                                <Form.Control\n                                    type=\"text\"\n                                    placeholder=\"Collection Name\"\n                                    value={this.state.collectionName}\n                                    onChange={this.changeCollectionName}\n                                />\n                            </Col>\n                        </Row>\n                    </Container>\n\n\n\n\n                    <Container>\n                        <Row className=\"justify-content-md-center\">\n                            <Col xs lg=\"5\">\n                                <Form.Label>Filter</Form.Label>\n                                <Form.Control\n                                    type=\"text\"\n                                    placeholder=\"example: name:charizard\"\n                                    value={this.state.searchTerm}\n                                    onChange={this.changeSearchTerm}\n                                />\n                                <Button variant=\"primary\" type=\"submit\" onClick={this.searchTcgApiCard}>\n                                    Search\n                                </Button>\n                            </Col>\n                        </Row>\n                    </Container>\n                </section>\n\n                <section style={{marginTop: '20px'}}>\n                    <Container>\n                        <Row className=\"justify-content-md-center\">\n                            <Col xs={\"12\"} >\n                                {this.Speeeeeeen()}\n                                <Button className={\"float-right\"} variant=\"primary\" type=\"submit\" onClick={this.saveAndRedirectClick}>\n                                    Save\n                                </Button>\n                                &nbsp;\n                                <Button className={\"float-right\"} variant=\"primary\" type=\"submit\" onClick={this.saveAndCreateAnotherClick}>\n                                    Save And create another\n                                </Button>\n                            </Col>\n                            <Col xs lg=\"12\">\n                                {/*{collectionList}*/}\n                                <div>\n                                    {this.state.searchCards.length} Cards\n                                </div>\n                                <BootstrapTable data={this.state.searchCards} striped={true} hover={true}>\n                                    <TableHeaderColumn dataField=\"id\" isKey={true} dataAlign=\"center\" dataSort={true}>ID</TableHeaderColumn>\n                                    <TableHeaderColumn dataField=\"name\" dataSort={true}>Card No</TableHeaderColumn>\n                                    <TableHeaderColumn dataField=\"fullCardNumber\" dataSort={true}>fullCardNumber</TableHeaderColumn>\n                                    <TableHeaderColumn dataField=\"supertype\" dataSort={true}>Supertype</TableHeaderColumn>\n                                    <TableHeaderColumn dataField=\"setName\" dataSort={true}>setName</TableHeaderColumn>\n                                    <TableHeaderColumn dataField=\"setReleaseDate\" dataSort={true}>Release Date</TableHeaderColumn>\n                                    <TableHeaderColumn dataField=\"rarity\" dataSort={true}>Rarity</TableHeaderColumn>\n                                    {/*<TableHeaderColumn dataField=\"price\" dataFormat={priceFormatter}>Product Price</TableHeaderColumn>*/}\n                                </BootstrapTable>\n                            </Col>\n                        </Row>\n                    </Container>\n                </section>\n\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    // const { message } = state.message;\n    return {\n        // message,\n    };\n}\n\n\nexport default connect(mapStateToProps)(CollectionsCreate);","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport {Link, useNavigate} from \"react-router-dom\";\n\nimport CollectionService from \"../services/collection.service\";\nimport Button from 'react-bootstrap/Button';\nimport Table from \"react-bootstrap/Table\";\nimport ToggleButton from \"react-bootstrap/ToggleButton\";\nimport {ArrowRight, CaretDownSquare} from 'react-bootstrap-icons';\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\nimport {BootstrapTable, TableHeaderColumn} from \"react-bootstrap-table\";\nimport Col from \"react-bootstrap/Col\";\nimport ToolkitProvider from \"react-bootstrap-table2-toolkit\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport filterFactory from \"react-bootstrap-table2-filter\";\n\n\nclass CollectionView extends Component {\n    constructor(props) {\n        super(props);\n        this.handleCardCollectedCheckboxClick = this.handleCardCollectedCheckboxClick.bind(this);\n        this.handleSaveCollectionButtonClick = this.handleSaveCollectionButtonClick.bind(this);\n        this.cardCollectedToggle = this.cardCollectedToggle.bind(this);\n\n        this.state = {\n            collection: {collectionCards:[]},\n            collectionId: this.props.id,\n        };\n    }\n\n    componentDidMount() {\n        CollectionService.getOneDetail(this.props.id).then(\n            response => {\n                this.setState({\n                    collection: response.data\n                }, () => {\n                    console.log(this.state)\n                });\n            },\n            error => {\n                this.setState({\n                    content:\n                        (error.response &&\n                            error.response.data &&\n                            error.response.data.message) ||\n                        error.message ||\n                        error.toString()\n                });\n            }\n        );\n    }\n\n    cardCollectedToggle(cell, row, enumObject) {\n        // console.log(\">\", cell, row, enumObject);\n        // return 1;\n        // debugger;\n        console.log(row.cardId)\n        let ass =  (\n            <ToggleButton\n                className=\"my-0\"\n                id={row.cardId}\n                type=\"checkbox\"\n                variant=\"outline-primary\"\n                checked={row.count}\n                value={row.count}\n                onClick={this.handleCardCollectedCheckboxClick}\n                data={row.cardId}\n                size=\"sm\"\n            >\n                {/*{(card.count) ? <i className=\"bi bi-check-circle-fill\"></i> : <i class=\"bi bi-circle\"></i>}*/}\n                {(row.count) ? <i className=\"bi bi-check2-circle\"></i> : <i className=\"bi bi-circle\"></i>}\n            </ToggleButton>\n        )\n        // debugger;\n        return ass;\n    }\n\n    handleCardCollectedCheckboxClick(e) {\n        console.log(e.currentTarget.id);\n        // Why in the living fuck is this null, why does the toogle's ID not inherit correctly\n        // Do this bullshit instead\n        const id = e.currentTarget.htmlFor;\n\n        const { collection } = { ...this.state };\n        const currentState = collection;\n\n        for (let card of collection.collectionCards) {\n            if(card.cardId === id){\n                card.count = (card.count) ? 0 : 1;\n                break;\n            }\n        }\n\n\n        this.setState({ collection: currentState });\n    }\n\n\n    handleSaveCollectionButtonClick(e) {\n        const { collection } = { ...this.state };\n        const currentCollection = JSON.parse(JSON.stringify(collection));\n\n        let collectionToSubmit = {\"name\": this.state.collection.name};\n\n        const l = new Set(['orderNumber', 'count', 'cardId']);\n\n        for (let obj of currentCollection.collectionCards) {\n            for (let prop of Object.keys(obj)) {\n                if (!l.has(prop)) {\n                    delete obj[prop];\n                }\n            }\n        }\n        collectionToSubmit.cards = currentCollection.collectionCards;\n        CollectionService.putCollection( this.state.collectionId, collectionToSubmit)\n    }\n\n\n    render() {\n        console.log(this.state.collection);\n\n        let collectedCount = this.state.collection.collectionCards.reduce((previousValue, currentValue) => previousValue + Math.min(currentValue, 1), 0);\n\n        collectedCount = this.state.collection.collectionCards.reduce((a, b) => {\n            // console.log(a);\n            // debugger;\n            return a + b.count;\n            }\n            , 0);\n\n\n\n        let completion = 0;\n        if(this.state.collection.collectionCards.length > 0){\n            completion = collectedCount / this.state.collection.collectionCards.length\n        }\n        completion = completion * 100;\n        completion = Math.round(completion, 2) + '%';\n\n        if(this.state.collection.collectionCards.length > 0){\n            // debugger;\n        }\n\n\n        return (\n            <div className=\"container\">\n                <header className=\"jumbotron\">\n                    <h1>Collection {this.state.collection?.name} - {completion}</h1>\n                </header>\n                <Button onClick={this.handleSaveCollectionButtonClick} >Save Collection</Button>\n                <div>\n                    {/*<ToolkitProvider*/}\n                    {/*    // data={this.state.collectionCards}*/}\n                    {/*    data={this.state.collection?.collectionCards}*/}\n                    {/*    columns={columns}*/}\n                    {/*    keyField={\"collection_card_key\"}*/}\n                    {/*    striped={true}*/}\n                    {/*    hover={true}*/}\n                    {/*    srText={\"sss\"}*/}\n\n\n\n                    {/*    search*/}\n                    {/*>*/}\n                    {/*    {*/}\n                    {/*        props => (*/}\n                    {/*            <div>*/}\n                    {/*                <BootstrapTable*/}\n                    {/*                    { ...props.baseProps }*/}\n                    {/*                    pagination={ paginationFactory({paginationSize: 20}) }*/}\n                    {/*                    srText={\"sss\"}*/}\n                    {/*                    formatExtraData={ this.state.collectionCards }*/}\n                    {/*                    filter={ filterFactory() }*/}\n                    {/*                >*/}\n                    {/*                </BootstrapTable>*/}\n                    {/*            </div>*/}\n                    {/*        )*/}\n                    {/*    }*/}\n                    {/*</ToolkitProvider>*/}\n\n                    {/*<BootstrapTable data={this.state.collection?.collectionCards} striped={true} hover={true}>*/}\n                    {/*    <TableHeaderColumn dataField=\"orderNumber\" dataAlign=\"center\" dataSort={true}>orderNumber</TableHeaderColumn>*/}\n                    {/*    <TableHeaderColumn dataField=\"binderPageNo\" dataAlign=\"center\" dataSort={true}>binderPageNo</TableHeaderColumn>*/}\n                    {/*    <TableHeaderColumn dataField=\"binderSlotNo\" dataAlign=\"center\" dataSort={true}>binderSlotNo</TableHeaderColumn>*/}\n                    {/*    <TableHeaderColumn dataField=\"cardId\" isKey={true} dataAlign=\"center\" dataSort={true}>cardId</TableHeaderColumn>*/}\n                    {/*    <TableHeaderColumn dataField=\"name\" dataSort={true}>name</TableHeaderColumn>*/}\n                    {/*    <TableHeaderColumn dataField=\"rarity\" dataSort={true}>rarity</TableHeaderColumn>*/}\n                    {/*    <TableHeaderColumn dataField=\"setName\" dataSort={true}>setName</TableHeaderColumn>*/}\n                    {/*    <TableHeaderColumn dataField=\"Collected\" dataSort={true} dataFormat={this.cardCollectedToggle}>Collected</TableHeaderColumn>*/}\n                    {/*    <TableHeaderColumn dataField=\"setReleaseDate\" dataSort={true}>Release Date</TableHeaderColumn>*/}\n                    {/*    /!*<TableHeaderColumn dataField=\"price\" dataFormat={cardCollectedToggle}>Product Price</TableHeaderColumn>*!/*/}\n                    {/*</BootstrapTable>*/}\n                </div>\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    // const { message } = state.message;\n    return {\n        // message,\n    };\n}\n\n\nexport default connect(mapStateToProps)(CollectionView);\n","import { createBrowserHistory } from \"history\";\n\nexport const history = createBrowserHistory();","import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\n\nconst parseJwt = (token) => {\n    try {\n        return JSON.parse(atob(token.split('.')[1]));\n    } catch (e) {\n        return null;\n    }\n};\n\nclass AuthVerify extends Component {\n    constructor(props) {\n        super(props);\n\n        props.history.listen(() => {\n            const user = JSON.parse(localStorage.getItem(\"user\"));\n\n            if (user) {\n                const decodedJwt = parseJwt(user.accessToken);\n\n                if (decodedJwt.exp * 1000 < Date.now()) {\n                    props.logOut();\n                }\n            }\n        });\n    }\n\n    render() {\n        return <div></div>;\n    }\n}\n\nexport default AuthVerify;","function NotFound(props) {\n    return <h1>404</h1>;\n}\n\nexport default NotFound;","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport {Link, useNavigate} from \"react-router-dom\";\n\nimport CollectionService from \"../services/collection.service\";\nimport filterFactory, { textFilter, selectFilter, multiSelectFilter, numberFilter } from \"react-bootstrap-table2-filter\";\nimport Button from 'react-bootstrap/Button';\nimport Table from \"react-bootstrap/Table\";\nimport ToggleButton from \"react-bootstrap/ToggleButton\";\nimport {ArrowRight, CaretDownSquare} from 'react-bootstrap-icons';\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css';\nimport 'react-bootstrap-table2-paginator/dist/react-bootstrap-table2-paginator.min.css';\n// import {BootstrapTable, TableHeaderColumn} from \"react-bootstrap-table-next\";\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport Col from \"react-bootstrap/Col\";\nimport paginationFactory from 'react-bootstrap-table2-paginator';\nimport 'react-bootstrap-table2-toolkit/dist/react-bootstrap-table2-toolkit.min.css';\nimport ToolkitProvider, { Search } from 'react-bootstrap-table2-toolkit';\nimport Row from \"react-bootstrap/Row\";\nconst { SearchBar } = Search;\n\n\n\nclass CollectionViewEpic extends Component {\n    constructor(props) {\n        super(props);\n        this.handleCardCollectedCheckboxClick = this.handleCardCollectedCheckboxClick.bind(this);\n        this.handleSaveCollectionButtonClick = this.handleSaveCollectionButtonClick.bind(this);\n        this.handleCardPurchasedCheckboxClick = this.handleCardPurchasedCheckboxClick.bind(this);\n        // this.cardCollectedToggle = this.cardCollectedToggle.bind(this);\n\n        console.log(\"------------------\");\n        console.log(this.props);\n        console.log(\"------------------\");\n\n        // debugger;\n        this.state = {\n            displaySingleCollection: 'id' in this.props,\n            collectionId: this.props.id,\n            collectionName: '',\n\n            collectionCards:[{id:\"ass\", setName:\"yeet\"}],\n            changedCards: new Set(),\n            checkChanged: true,\n            propertyValues: {\n                setNames: {},\n                collectionNames: {},\n            },\n            filters: {},\n\n        };\n\n        this.setNameFilter = null;\n    }\n\n    componentDidMount() {\n        let epicFilter = {};\n        if (this.state.collectionId != undefined){\n            epicFilter = {\"collectionId\":this.state.collectionId }\n            // {collectionId: 'db8a0cd0-558d-11ec-8e83-fdb9d4163a20'}\n        }\n        console.log( {epicFilter} )\n\n        CollectionService.getEpic(epicFilter).then(\n            response => {\n                const setNames = [...new Set(response.data.map(item => item.setName))];\n                setNames.sort();\n                const setNamesDict = {};\n                setNames.forEach(item => {\n                    setNamesDict[item] = item\n                });\n\n                const collectionNames = [...new Set(response.data.map(item => item.collectionName))];\n                collectionNames.sort();\n                const collectionNamesDict = {};\n                collectionNames.forEach(item => {\n                    collectionNamesDict[item] = item\n                });\n\n                // debugger;\n\n                this.setState({\n                    collectionCards: response.data,\n                    propertyValues: {\n                        setNames: setNamesDict,\n                        collectionNames: collectionNamesDict,\n                    }\n                }, () => {\n                    // console.log(this.state)\n                    this.forceUpdate();\n                });\n            },\n            error => {\n                alert(\"Error\")\n            }\n        );\n    }\n\n    handleCardCollectedCheckboxClick(e) {\n        const id = e.currentTarget.htmlFor;\n        let {changedCards} = this.state;\n        let stateRow = this.state.collectionCards.find(item => item.collection_card_key === id);\n        stateRow.count = (stateRow.count) ? 0 : 1;\n        changedCards.add(id)\n        // debugger;\n\n        this.setState({ collectionCards: this.state.collectionCards , checkChanged: !this.state.checkChanged, changedCards:changedCards}, () => {\n            console.log('InOnClick: ', this.state.collectionCards[0].count );\n            console.log('InOnClick: ', this.state.checkChanged );\n            console.log('InOnClick: ', this.state.changedCards );\n            this.forceUpdate();\n            this.handleSaveCollectionButtonClick('test');\n        });\n    }\n    handleCardPurchasedCheckboxClick(e) {\n        const id = e.currentTarget.htmlFor;\n\n        let stateRow = this.state.collectionCards.find(item => item.collection_card_key === id);\n        stateRow.purchased = !stateRow.purchased\n        this.state.changedCards.add(id)\n        // debugger;\n\n        this.setState({ collectionCards: this.state.collectionCards , checkChanged: !this.state.checkChanged}, () => {\n            this.forceUpdate();\n        });\n    }\n\n\n\n\n    handleSaveCollectionButtonClick(e) {\n        const { collectionCards } = { ...this.state };\n        // debugger;\n        const cardsToSend = [... this.state.changedCards].map((cardId) => {\n            let yeet = collectionCards.find(item => item.collection_card_key === cardId);\n            return yeet;\n        })\n\n        const ass = 1;\n\n        CollectionService.patchCollectionCards( cardsToSend )\n            .then((response) => {\n                this.setState({ changedCards:new Set() }, () => {\n                    this.forceUpdate();\n                });\n            })\n            .catch((err) => {\n                alert(err)\n            })\n    }\n\n\n    render() {\n        let selectOptions = {\n            'XY': 'XY'\n        };\n        selectOptions = this.state.propertyValues.setNames;\n\n        let { collectionCards, filters } = this.state;\n\n        console.log(this.state.propertyValues.setNames)\n        const setNameFilter = filters.setNameFilter ? filters.setNameFilter.filterVal : null;\n        // if (setNameFilter) {\n        //     collectionCards = collectionCards.filter(item => item.setName === setNameFilter);\n        // }\n\n        const columns = [\n\n            {\n                dataField: 'collectionName',\n                text: 'collection name',\n                searchable: true,\n                // headerStyle: (colum, colIndex) => {\n                //     return { width: '6em' };\n                // },\n                //\n                filter: selectFilter({\n                    // filter: multiSelectFilter({\n                    options: this.state.propertyValues.collectionNames,\n                    // getFilter: filter => {\n                    //     this.setNameFilter = filter;\n                    // }\n                }),\n                sort: true,\n            },\n            {\n                dataField: 'numberFull',\n                text: 'number',\n                searchable: true,\n                headerStyle: (colum, colIndex) => {\n                    return { width: '6em' };\n                },\n                sort: true,\n            },\n            {\n                dataField: 'cardId',\n                text: 'cardId',\n                searchable: true,\n                hidden: true,\n                sort: true,\n            },\n            {\n                dataField: 'name',\n                text: 'name',\n                searchable: true,\n                sort: true,\n                // headerStyle: (colum, colIndex) => {\n                //     return { width: '15em' };\n                // },\n            },\n            {\n                dataField: 'rarity',\n                text: 'rarity',\n                searchable: true,\n                sort: true,\n                headerStyle: (colum, colIndex) => {\n                    return { width: '10em' };\n                },\n            },\n            {\n                dataField: 'setName',\n                text: 'setName',\n                searchable: true,\n                style: (row, rowIndex) => {\n                    return {\n                        whiteSpace: \"nowrap\",\n                        textOverflow: \"ellipsis\",\n                        overflow: \"hidden\",\n                    }\n                },\n                sort: true,\n                filter: selectFilter({\n                // filter: multiSelectFilter({\n                    options: this.state.propertyValues.setNames,\n                    // getFilter: filter => {\n                    //     this.setNameFilter = filter;\n                    // }\n                })\n            },\n            {\n                dataField: 'setReleaseDate',\n                text: 'release date',\n                searchable: true,\n                sort: true,\n                headerStyle: (colum, colIndex) => {\n                    return { width: '7em' };\n                },\n\n            },\n            {\n                dataField: 'collection_card_key',\n                text: 'collection_card_key',\n                hidden: true,\n                sort: true,\n\n            },\n            {\n                dataField: 'orderNumber',\n                text: 'col',\n                headerStyle: (colum, colIndex) => {\n                    return { width: '3em'};\n                },\n                sort: true,\n\n            },\n            {\n                dataField: 'binderPageNo',\n                text: 'pg',\n                headerStyle: (colum, colIndex) => {\n                    return { width: '3em' };\n                },\n                sort: true,\n            },\n            {\n                dataField: 'binderSlotNo',\n                text: 'slot',\n                headerStyle: (colum, colIndex) => {\n                    return { width: '3em' };\n                },\n                sort: true,\n            },\n            {\n                dataField: 'count',\n                text: 'Collected',\n                filter: selectFilter({\n                    options: [\n                        { value: 0, label: 'N' },\n                        { value: 1, label: 'Y' },\n                    ]\n                }),\n                headerStyle: (colum, colIndex) => {\n                    return { width: '7em' };\n                },\n                formatExtraData: {collectionCards: this.state.collectionCards, changed: this.state.checkChanged},\n                formatter: (cell, row, rowIndex, formatExtraData ) => {\n                    const myFuckingData = formatExtraData.collectionCards;\n                    const stateRow = myFuckingData.find(item => item.collection_card_key === row.collection_card_key);\n                    return (\n                        <ToggleButton\n                            className=\"my-0\"\n                            id={row.collection_card_key}\n                            type=\"checkbox\"\n                            variant=\"outline-primary\"\n                            checked={(stateRow.count) == 1 ? true : false}\n                            value={stateRow.count}\n                            onClick={this.handleCardCollectedCheckboxClick}\n                            data={row.cardId}\n                            size=\"sm\"\n                        >\n                            {(stateRow.count) ? <i className=\"bi bi-check-circle-fill\"></i> : <i class=\"bi bi-circle\"></i>}\n                            {/*{(stateRow.count) ? <i className=\"bi bi-check2-circle\"></i> : <i className=\"bi bi-circle\"></i>} {stateRow.count}  / {rowIndex}*/}\n                        </ToggleButton>\n\n                    )\n                },\n            },\n            {\n                dataField: 'purchased',\n                text: 'purchased',\n                filter: selectFilter({\n                    options: [\n                        { value: false, label: 'N' },\n                        { value: true, label: 'Y' },\n                    ]\n                }),\n                headerStyle: (colum, colIndex) => {\n                    return { width: '7em' };\n                },\n                formatExtraData: {collectionCards: this.state.collectionCards, changed: this.state.checkChanged},\n                formatter: (cell, row, rowIndex, formatExtraData ) => {\n                    const myFuckingData = formatExtraData.collectionCards;\n                    const stateRow = myFuckingData.find(item => item.collection_card_key === row.collection_card_key);\n                    return (\n                        <ToggleButton\n                            className=\"my-0\"\n                            id={row.collection_card_key}\n                            type=\"checkbox\"\n                            variant=\"outline-primary\"\n                            checked={stateRow.purchased}\n                            value={stateRow.purchased}\n                            onClick={this.handleCardPurchasedCheckboxClick}\n                            data={row.cardId}\n                            size=\"sm\"\n                        >\n                            {(stateRow.purchased) ? <i className=\"bi bi-check-circle-fill\"></i> : <i class=\"bi bi-circle\"></i>}\n                            {/*{(stateRow.purchased) ? <i className=\"bi bi-check2-circle\"></i> : <i className=\"bi bi-circle\"></i>} {stateRow.purchased}  / {rowIndex}*/}\n                        </ToggleButton>\n\n                    )\n                },\n            },\n\n\n\n        ];\n\n\n        let collectionName = '';\n        if(this.state.propertyValues.collectionNames != {}){\n            collectionName = Object.keys(this.state.propertyValues.collectionNames)[0];\n        }\n\n        let completion = 0;\n        let collectedCount = this.state.collectionCards.reduce((a, b) => {\n                // console.log(a);\n                // debugger;\n                return a + b.count;\n            }\n            , 0);\n        if(this.state.collectionCards.length > 0){\n            completion = collectedCount / this.state.collectionCards.length\n        }\n        completion = completion * 100;\n        completion = Math.round(completion, 2) + '%';\n\n        return (\n            <div className=\"container-fluid\">\n\n\n                <header className=\"jumbotron\">\n                    {this.state.displaySingleCollection ? (\n                        <h1>Collection {collectionName} - {completion}</h1>\n                    ) : (null )}\n\n\n                </header>\n\n\n\n\n                <Row>\n                    <Col classNames={\"col-md-auto\"}>\n                        <h3>Search for cards:</h3>\n                    </Col>\n                    <Col xs={1}>\n                        <Button variant=\"primary\" onClick={this.handleSaveCollectionButtonClick}>Save</Button>\n                    </Col>\n\n                </Row>\n\n\n\n                <ToolkitProvider\n                    // data={this.state.collectionCards}\n                    data={collectionCards}\n                    columns={columns}\n                    keyField={\"collection_card_key\"}\n                    striped={true}\n                    hover={true}\n                    exportCSV={ {\n                        fileName: 'custom.csv',\n                        separator: '|',\n                        ignoreHeader: true,\n                        noAutoBOM: false\n                    } }\n                    condensed={true}\n\n\n\n                    search\n                >\n                    {\n                        props => (\n                            <div>\n                                <SearchBar { ...props.searchProps } />\n                                <hr />\n                                <BootstrapTable\n                                    { ...props.baseProps }\n\n                                    srText={\"sss\"}\n                                    formatExtraData={ this.state.collectionCards }\n                                    filter={ filterFactory() }\n                                    pagination={ paginationFactory({sizePerPageList: [\n                                        {\n                                            text: '10', value: 10\n                                        }\n                                        , {\n                                            text: '30', value: 30\n                                        }\n                                        ,\n                                            {\n                                            text: 'All', value: this.state.collectionCards.length\n                                        } ]\n                                        // , paginationSize: 'All'\n                                    })\n\n                                    }\n                                >\n                                </BootstrapTable>\n                            </div>\n                        )\n                    }\n                </ToolkitProvider>\n\n\n                {/*</div>*/}\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    // const { message } = state.message;\n    return {\n        // message,\n    };\n}\n\n\nexport default connect(mapStateToProps)(CollectionViewEpic);","import {useParams} from \"react-router\";\nimport CollectionView from \"./collections-view.component\";\nimport React from \"react\";\nimport CollectionViewEpic from \"./collection-view-epic-component\";\n\nfunction CollectionViewWrapper(props) {\n    const { collectionid } = useParams();\n    return (\n        // <CollectionView id={id}/>\n        <CollectionViewEpic collectionid={collectionid}/>\n    );\n}\n\nexport default CollectionViewWrapper;","import {useParams} from \"react-router\";\nimport CollectionView from \"./collections-view.component\";\nimport React from \"react\";\nimport CollectionViewEpic from \"./collection-view-epic-component\";\n\nfunction CollectionViewWrapper(props) {\n    const { id } = useParams();\n    return (\n        // <CollectionView id={id}/>\n        <CollectionViewEpic id={id}/>\n    );\n}\n\nexport default CollectionViewWrapper;","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { BrowserRouter as Router, Routes, Route, Link } from \"react-router-dom\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\n\nimport Login from \"./components/login.component\";\nimport Register from \"./components/register.component\";\nimport Home from \"./components/home.component\";\nimport Profile from \"./components/profile.component\";\nimport BoardUser from \"./components/board-user.component\";\nimport BoardModerator from \"./components/board-moderator.component\";\nimport BoardAdmin from \"./components/board-admin.component\";\nimport BoardCollections from \"./components/collections-list.component\";\nimport CreateCollection from \"./components/collections-create.component\"\nimport ViewCollection from \"./components/collections-view.component.js\"\n\nimport { logout } from \"./actions/auth\";\n\nimport { clearMessage } from \"./actions/message\";\n\nimport { history } from './helpers/history';\nimport AuthVerify from \"./common/auth-verify\";\nimport NotFound from \"./components/NotFound\";\nimport CollectionViewEpic from \"./components/collection-view-epic-component\";\nimport CollectionViewEpicWrapper from \"./components/collections-view-epic.function\";\nimport CollectionViewWrapper from \"./components/collection-view.function\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.logOut = this.logOut.bind(this);\n\n    this.state = {\n      showModeratorBoard: false,\n      showAdminBoard: false,\n      currentUser: undefined,\n    };\n\n    history.listen((location) => {\n      props.dispatch(clearMessage()); // clear message when changing location\n    });\n  }\n\n  componentDidMount() {\n    const user = this.props.user;\n\n    if (user) {\n      console.log(user.roles)\n\n      this.setState({\n        currentUser: user,\n        showModeratorBoard: user.roles.includes(\"ROLE_MODERATOR\"),\n        showAdminBoard: user.roles.includes(\"ROLE_ADMIN\"),\n      });\n    }\n  }\n\n  logOut() {\n    this.props.dispatch(logout());\n    this.setState({\n      showModeratorBoard: false,\n      showAdminBoard: false,\n      currentUser: undefined,\n    });\n  }\n\n  render() {\n    const { currentUser, showModeratorBoard, showAdminBoard } = this.state;\n    const user = this.props.user;\n\n    console.log(user?.roles);\n    console.log(\"haha\");\n\n    return (\n        <Router history={history}>\n          <div>\n            <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\n              <Link to={\"/\"} className=\"navbar-brand\">\n                bezKoder\n              </Link>\n\n              <div className=\"navbar-nav mr-auto\">\n                <li className=\"nav-item\">\n                  <Link to={\"/home\"} className=\"nav-link\">\n                    Home\n                  </Link>\n                </li>\n\n                {user?.roles.includes(\"ROLE_MODERATOR\") && (\n                    <li className=\"nav-item\">\n                      <Link to={\"/mod\"} className=\"nav-link\">\n                        Moderator Board\n                      </Link>\n                    </li>\n                )}\n\n                {user?.roles.includes(\"ROLE_ADMIN\")   && (\n                    <li className=\"nav-item\">\n                      <Link to={\"/admin\"} className=\"nav-link\">\n                        Admin Board\n                      </Link>\n                    </li>\n                )}\n\n                <li className=\"nav-item\">\n                  <Link to={\"/collections\"} className=\"nav-link\">\n                    Collections\n                  </Link>\n                </li>\n\n\n                {currentUser && (\n                    <React.Fragment>\n                      <li className=\"nav-item\">\n                        <Link to={\"/epic\"} className=\"nav-link\">\n                          Epic\n                        </Link>\n                      </li>\n                    </React.Fragment>\n                )}\n              </div>\n\n              {currentUser ? (\n                  <div className=\"navbar-nav ml-auto\" style={{marginLeft: 'auto'}}>\n                    <li className=\"nav-item\">\n                      <Link to={\"/profile\"} className=\"nav-link\">\n                        {currentUser.username}\n                      </Link>\n                    </li>\n                    <li className=\"nav-item\">\n                      <Link to={\"/user\"} className=\"nav-link\">\n                        User\n                      </Link>\n                    </li>\n                    <li className=\"nav-item\">\n                      <a href=\"/login\" className=\"nav-link\" onClick={this.logOut}>\n                        LogOut\n                      </a>\n                    </li>\n                  </div>\n              ) : (\n                  <div className=\"navbar-nav ml-auto\">\n                    <li className=\"nav-item\">\n                      <Link to={\"/login\"} className=\"nav-link\">\n                        Login\n                      </Link>\n                    </li>\n\n                    <li className=\"nav-item\">\n                      <Link to={\"/register\"} className=\"nav-link\">\n                        Sign Up\n                      </Link>\n                    </li>\n                  </div>\n              )}\n            </nav>\n\n            <div className=\"mt-3\">\n              <Routes>\n                <Route exact path={\"/\"} element={<Home/>} />\n                <Route exact path={\"/home\"} element={<Home/>} />\n\n                <Route exact path=\"/login\" element={<Login/>} />\n                <Route exact path=\"/register\" element={<Register/>} />\n                <Route exact path=\"/profile\" element={<Profile/>} />\n                <Route path=\"/user\" element={<BoardUser/>} />\n                <Route path=\"/mod\" element={<BoardModerator/>} />\n                <Route path=\"/admin\" element={<BoardAdmin/>} />\n\n                <Route path=\"/collections\" element={<BoardCollections/>} />\n                <Route path=\"/collection/create\" element={<CreateCollection/>} />\n\n                <Route path=\"/collection/:id\" element={<CollectionViewWrapper/>} />\n\n                <Route path=\"/epic\" element={<CollectionViewEpicWrapper/>} />\n                {/*<Route path=\"/epic/:collectionId\" element={<CollectionViewEpicWrapper/>} />*/}\n                <Route path=\"*\" element={<NotFound/>} />\n\n\n\n\n              </Routes>\n            </div>\n            <AuthVerify logOut={this.logOut}  history={history}/>\n          </div>\n        </Router>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const { user } = state.auth;\n  return {\n    user,\n  };\n}\n\nexport default connect(mapStateToProps)(App);","import { SET_MESSAGE, CLEAR_MESSAGE } from \"./types\";\n\nexport const setMessage = (message) => ({\n    type: SET_MESSAGE,\n    payload: message,\n});\n\nexport const clearMessage = () => ({\n    type: CLEAR_MESSAGE,\n});","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {\n    REGISTER_SUCCESS,\n    REGISTER_FAIL,\n    LOGIN_SUCCESS,\n    LOGIN_FAIL,\n    LOGOUT,\n} from \"../actions/types\";\n\nconst user = JSON.parse(localStorage.getItem(\"user\"));\n\nconst initialState = user\n    ? { isLoggedIn: true, user }\n    : { isLoggedIn: false, user: null };\n\nexport default function (state = initialState, action) {\n    const { type, payload } = action;\n\n    switch (type) {\n        case REGISTER_SUCCESS:\n            return {\n                ...state,\n                isLoggedIn: false,\n            };\n        case REGISTER_FAIL:\n            return {\n                ...state,\n                isLoggedIn: false,\n            };\n        case LOGIN_SUCCESS:\n            return {\n                ...state,\n                isLoggedIn: true,\n                user: payload.user,\n            };\n        case LOGIN_FAIL:\n            return {\n                ...state,\n                isLoggedIn: false,\n                user: null,\n            };\n        case LOGOUT:\n            return {\n                ...state,\n                isLoggedIn: false,\n                user: null,\n            };\n        default:\n            return state;\n    }\n}","import { SET_MESSAGE, CLEAR_MESSAGE } from \"../actions/types\";\n\nconst initialState = {};\n\nexport default function (state = initialState, action) {\n    const { type, payload } = action;\n\n    switch (type) {\n        case SET_MESSAGE:\n            return { message: payload };\n\n        case CLEAR_MESSAGE:\n            return { message: \"\" };\n\n        default:\n            return state;\n    }\n}","import { combineReducers } from \"redux\";\nimport auth from \"./auth\";\nimport message from \"./message\";\n\nexport default combineReducers({\n    auth,\n    message,\n});","import { createStore, applyMiddleware } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./reducers\";\n\nconst middleware = [thunk];\n\nconst store = createStore(\n    rootReducer,\n    composeWithDevTools(applyMiddleware(...middleware))\n);\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from \"react-redux\";\nimport store from \"./store\"\n\nReactDOM.render(\n  <React.StrictMode>\n      <Provider store={store}>\n        <App />\n      </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","module.exports = {\n    API_BASE_URL : 'http://docker.tomekwaller.com:8080/api/'\n    // API_BASE_URL : 'http://localhost:8080/api/'\n};"],"sourceRoot":""}