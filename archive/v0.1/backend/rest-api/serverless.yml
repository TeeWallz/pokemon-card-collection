service: rest-api

provider:
  name: aws
  runtime: nodejs6.10 # set node.js runtime
  memorySize: 128 # set the maximum memory of the Lambdas in Megabytes
  timeout: 10 # the timeout is 10 seconds (default is 6 seconds)
  stage: dev # setting the env stage to dev, this will be visible in the routes
  region: ap-southeast-2



functions: # add 4 functions for CRUD
  userCreate:
    handler: src/handlers/auth.Register # point to exported create function in handler.js
    events:
      - http:
          path: auth/register # path will be domain.name.com/dev/collections
          method: post
          cors: true
  userLogin:
    handler: src/handlers/auth.Login # point to exported create function in handler.js
    events:
      - http:
          path: auth/login # path will be domain.name.com/dev/collections
          method: post
          cors: true

#  create:
#    handler: src/handlers/collection.create # point to exported create function in handler.js
#    events:
#      - http:
#          path: collections # path will be domain.name.com/dev/collections
#          method: post
#          cors: true
#  getOne:
#    handler: src/handlers/collection.getOne
#    events:
#      - http:
#          path: collections/{id} # path will be domain.name.com/dev/collections/1
#          method: get
#          cors: true
#  getAll:
#    handler: src/handlers/collection.getAll # path will be domain.name.com/dev/collections
#    events:
#      - http:
#          path: collections
#          method: get
#          cors: true
#  update:
#    handler: src/handlers/collection.update # path will be domain.name.com/dev/collections/1
#    events:
#      - http:
#          path: collections/{id}
#          method: put
#          cors: true
#  delete:
#    handler: src/handlers/collection.delete
#    events:
#      - http:
#          path: collections/{id} # path will be domain.name.com/dev/collections/1
#          method: delete
#          cors: true

plugins:
  - serverless-offline # adding the plugin to be able to run the offline emulation
